{# This file is part of SGS-Flask.

   SGS-Flask is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   (at your option) any later version.
 
   SGS-Flask is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
 
   You should have received a copy of the GNU General Public License
   along with this program.  If not, see <http://www.gnu.org/licenses/>.
 
   Copyright Swallowtail Garden Seeds, Inc 
#}
{# This macro will take either a Seed or CommonName object, as they both
contain the members gw_common_names and gw_cultivars
#}
{% macro grows_with(obj) %}
{% if obj.gw_common_names %}{% for gw_cn in obj.gw_common_names %}<a href="{{ url_for('seeds.common_name', idx_slug=gw_cn.indexes[0].slug, cn_slug=gw_cn.slug) }}">{{ gw_cn.name }}</a>{% if not loop.last or obj.gw_cultivars %}, {% endif %}{% endfor %}{% endif %}{% if obj.gw_cultivars %}{% for gw_sd in obj.gw_cultivars %}<a href="{{ url_for('seeds.cultivar', idx_slug=gw_sd.indexes[0].slug, cn_slug=gw_sd.common_name.slug, cv_slug=gw_sd.slug) }}">{{ gw_sd.fullname }}</a>{% if not loop.last %}, {% endif %}{% endfor %}{% endif %}
{% endmacro %}
