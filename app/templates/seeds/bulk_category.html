{# This file is part of SGS-Flask.
SGS-Flask is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
SGS-Flask is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
You should have received a copy of the GNU General Public License
along with this program.  If not, see
<http://www.gnu.org/licenses/>.
Copyright Swallowtail Garden Seeds, Inc
#}
{% extends "includes/base.html" %}
{# Indent block head content 4 spaces, and block main content 6 spaces. #}
{% macro item_row(item) %}
<tr>
  <td>
    {{ item.name }}
  </td>
  <td>
    {{ item.sku }}
  </td>
  <td>
    ${{ item.price }}
  </td>
  <td>
    <input id="quantity-{{ item.sku }}" min=1 type="number" value="1">
  </td>
  <td>
    <button class="snipcart-add-item" data-item-description="Bulk Seeds" data-item-id="{{ item.sku }}" data-item-name="{{ item.product_name }}" data-item-price="{{ item.price }}" data-item-taxable="{% if item.taxable %}true{% else %}false{% endif %}" data-item-url="{{ request.url }}" id="button-{{ item.sku }}" type="button">Add to Cart</button>
  </td>
</tr>
{% endmacro %}
{% block head %}
<title>{{ category.title }} | Swallowtail Garden Seeds</title>
<link rel="canonical" href="{{ url_for('seeds.bulk', _external=True) }}">
<style>
  .bulk-items td:nth-child(1){width:40%;}
  .bulk-items td:nth-child(2){display:none}
  .bulk-items td:nth-child(3){width:15%;}
  .bulk-items td:nth-child(4){width:15%;}
  .bulk-items td:nth-child(5){width:26%;}
  .RelatedLinks {margin-bottom:0}
    .bulk-items td:nth-child(1){width:40%;}
  .bulk-items td:nth-child(2){display:none}
  .bulk-items td:nth-child(3){width:15%;}
  .bulk-items td:nth-child(4){width:13%;}
  .bulk-items td:nth-child(5){width:26%;}
  .RelatedLinks {margin-bottom:-2em;margin-top:0}
  .RelatedLinks_figcaption{margin-left:.22em;}
  hr.style-hr {
      height: 30px;
      border-style: solid;
      border-color: #141823;
      border-width: 1px 0 0 0;
      border-radius: 20px;
  }
  hr.style-hr:before {
      display: block;
      content: "";
      height: 30px;
      margin-top: -31px;
      border-style: solid;
      border-color: #141823;
      border-width: 0 0 1px 0;
      border-radius: 20px;
  }
  div.Series {border:none;margin-bottom:-3em;}
</style> 
{% endblock %}
{% block main %}
      <h1 class="bulk-page">{{ category.title }}</h1>
      <p>Bulk items are special orders and are estimated to ship within 3 weeks from the order date. These wholesale packets can be purchased in combination with our regular retail packets. The retail portion of your order will ship immediately. Because these seeds are ordered just for you, bulk seed returns (in original condition) are subject to a 20% restocking fee. The quality of the seed is high, the prices competitive, and if you are able to plan ahead, you are sure to find some extraordinary values.</p>
{% if category.series %}
      <div class="RelatedLinks">
        {% for ser in category.series %}
        <a href="#{{ ser.slug }}">
          <figure class="RelatedLinks_figure">
            <img class="Cultivar_img" src="{{ ser.thumbnail.url }}">
            <figcaption class="Related_links_figcaption">{{ ser.short_name|title }}</figcaption>
          </figure>
        </a>
        {% endfor %}  
      </div> 
{% endif %}
{% for ser in category.series %}
      <div id="{{ ser.slug }}" class="Series">
        <h2 class="Series_h2">{{ ser.name }}{% if ser.subtitle %}<em class="Series_em">{{ ser.subtitle }}</em>{% endif %}</h2>
        <p class="Series_p"> </p>  {# This is probably here for a reason. #}
      </div>
      <table class="bulk-items">
       {% for item in ser.items %}
        {{ item_row(item) }}
       {% endfor %} 
      </table>
      {% if ser.items_after %}
      <hr>
      <table class="bulk-items">
        {% for item in ser.items_after %}
        {{ item_row(item) }}
        {% endfor %}
      </table>
      <hr>
      {% endif %}
{% endfor %}
{% if not category.series %}
      <table class="bulk-items">
        {% for item in category.items %}
        {{ item_row(item) }}
        {% endfor %}
      </table>
{% endif %}
{% endblock %}
{% block detailed_nav %}
{{ make_detailed_nav(nav_data, 'bulk') }}
{% endblock %}
